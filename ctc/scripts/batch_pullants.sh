#$ -S /bin/bash
#$ -V
#$ -cwd
#$ -o grid_output
#$ -e grid_output
#$ -l h_vmem=16G
#$ -N PULL_ANTPOLS

FILES=`pull_args.py $*`

 ### seps 0,2 ###
#ANT_LIST=49_64,65_66,72_73,80_81,88_89,96_97,104_105,3_10,9_58,22_61,20_63,2_43,21_53,31_45,41_49,66_67,73_74,81_82,89_90,97_98,105_106,3_25,1_58,35_61,42_63,2_33,15_21,8_45,19_41,47_67,74_75,82_83,90_91,98_99,106_107,25_48,1_4,18_35,37_42,6_33,15_16,8_11,19_29,47_68,75_76,83_84,91_92,99_100,107_108,24_48,4_17,5_18,37_40,6_52,16_62,11_36,28_29,68_69,76_77,84_85,92_93,100_101,108_109,24_55,13_17,5_32,14_40,7_52,44_62,36_60,28_34,69_70,77_78,85_86,93_94,101_102,109_110,27_55,13_56,30_32,14_54,7_12,0_44,39_60,34_51,70_71,78_79,86_87,94_95,102_103,110_111,27_57,56_59,23_30,50_54,12_38,0_26,39_46

 ### seps 0,1 and 0,2 ###
#ANT_LIST=10_64,9_65,22_72,20_80,43_88,53_96,31_104,10_49,9_66,22_73,20_81,43_89,53_97,31_105,3_49,58_66,61_73,63_81,2_89,21_97,45_105,3_41,58_67,61_74,63_82,2_90,21_98,45_106,25_41,1_67,35_74,42_82,33_90,15_98,8_106,19_25,1_47,35_75,42_83,33_91,15_99,8_107,19_48,4_47,18_75,37_83,6_91,16_99,11_107,29_48,4_68,18_76,37_84,6_92,16_100,11_108,24_29,17_68,5_76,40_84,52_92,62_100,36_108,24_28,17_69,5_77,40_85,52_93,62_101,36_109,28_55,13_69,32_77,14_85,7_93,44_101,60_109,34_55,13_70,32_78,14_86,7_94,44_102,60_110,27_34,56_70,30_78,54_86,12_94,0_102,39_110,27_51,56_71,30_79,54_87,12_95,0_103,39_111,51_57,59_71,23_79,50_87,38_95,26_103,46_111,49_64,65_66,72_73,80_81,88_89,96_97,104_105,3_10,9_58,22_61,20_63,2_43,21_53,31_45,41_49,66_67,73_74,81_82,89_90,97_98,105_106,3_25,1_58,35_61,42_63,2_33,15_21,8_45,19_41,47_67,74_75,82_83,90_91,98_99,106_107,25_48,1_4,18_35,37_42,6_33,15_16,8_11,19_29,47_68,75_76,83_84,91_92,99_100,107_108,24_48,4_17,5_18,37_40,6_52,16_62,11_36,28_29,68_69,76_77,84_85,92_93,100_101,108_109,24_55,13_17,5_32,14_40,7_52,44_62,36_60,28_34,69_70,77_78,85_86,93_94,101_102,109_110,27_55,13_56,30_32,14_54,7_12,0_44,39_60,34_51,70_71,78_79,86_87,94_95,102_103,110_111,27_57,56_59,23_30,50_54,12_38,0_26,39_46

 ### seps 0,1;0,2;0,3 ###
#ANT_LIST=10_64,9_65,22_72,20_80,43_88,53_96,31_104,10_49,9_66,22_73,20_81,43_89,53_97,31_105,3_49,58_66,61_73,63_81,2_89,21_97,45_105,3_41,58_67,61_74,63_82,2_90,21_98,45_106,25_41,1_67,35_74,42_82,33_90,15_98,8_106,19_25,1_47,35_75,42_83,33_91,15_99,8_107,19_48,4_47,18_75,37_83,6_91,16_99,11_107,29_48,4_68,18_76,37_84,6_92,16_100,11_108,24_29,17_68,5_76,40_84,52_92,62_100,36_108,24_28,17_69,5_77,40_85,52_93,62_101,36_109,28_55,13_69,32_77,14_85,7_93,44_101,60_109,34_55,13_70,32_78,14_86,7_94,44_102,60_110,27_34,56_70,30_78,54_86,12_94,0_102,39_110,27_51,56_71,30_79,54_87,12_95,0_103,39_111,51_57,59_71,23_79,50_87,38_95,26_103,46_111,49_64,65_66,72_73,80_81,88_89,96_97,104_105,3_10,9_58,22_61,20_63,2_43,21_53,31_45,41_49,66_67,73_74,81_82,89_90,97_98,105_106,3_25,1_58,35_61,42_63,2_33,15_21,8_45,19_41,47_67,74_75,82_83,90_91,98_99,106_107,25_48,1_4,18_35,37_42,6_33,15_16,8_11,19_29,47_68,75_76,83_84,91_92,99_100,107_108,24_48,4_17,5_18,37_40,6_52,16_62,11_36,28_29,68_69,76_77,84_85,92_93,100_101,108_109,24_55,13_17,5_32,14_40,7_52,44_62,36_60,28_34,69_70,77_78,85_86,93_94,101_102,109_110,27_55,13_56,30_32,14_54,7_12,0_44,39_60,34_51,70_71,78_79,86_87,94_95,102_103,110_111,27_57,56_59,23_30,50_54,12_38,0_26,39_46,3_64,58_65,61_72,63_80,2_88,21_96,45_104,10_41,9_67,22_74,20_82,43_90,53_98,31_106,25_49,1_66,35_73,42_81,33_89,15_97,8_105,3_19,47_58,61_75,63_83,2_91,21_99,45_107,41_48,4_67,18_74,37_82,6_90,16_98,11_106,25_29,1_68,35_76,42_84,33_92,15_100,8_108,19_24,17_47,5_75,40_83,52_91,62_99,36_107,28_48,4_69,18_77,37_85,6_93,16_101,11_109,29_55,13_68,32_76,14_84,7_92,44_100,60_108,24_34,17_70,5_78,40_86,52_94,62_102,36_110,27_28,56_69,30_77,54_85,12_93,0_101,39_109,51_55,13_71,32_79,14_87,7_95,44_103,60_111,34_57,59_70,23_78,50_86,38_94,26_102,46_110

 ### seps <25m for Jeff ###
#ANT_LIST=10_64,9_65,22_72,20_80,43_88,53_96,31_104,10_49,9_66,22_73,20_81,43_89,53_97,31_105,3_49,58_66,61_73,63_81,2_89,21_97,45_105,3_41,58_67,61_74,63_82,2_90,21_98,45_106,25_41,1_67,35_74,42_82,33_90,15_98,8_106,19_25,1_47,35_75,42_83,33_91,15_99,8_107,19_48,4_47,18_75,37_83,6_91,16_99,11_107,29_48,4_68,18_76,37_84,6_92,16_100,11_108,24_29,17_68,5_76,40_84,52_92,62_100,36_108,24_28,17_69,5_77,40_85,52_93,62_101,36_109,28_55,13_69,32_77,14_85,7_93,44_101,60_109,34_55,13_70,32_78,14_86,7_94,44_102,60_110,27_34,56_70,30_78,54_86,12_94,0_102,39_110,27_51,56_71,30_79,54_87,12_95,0_103,39_111,51_57,59_71,23_79,50_87,38_95,26_103,46_111,64_65,65_72,72_80,80_88,88_96,96_104,9_10,9_22,20_22,20_43,43_53,31_53,49_66,66_73,73_81,81_89,89_97,97_105,3_58,58_61,61_63,2_63,2_21,21_45,41_67,67_74,74_82,82_90,90_98,98_106,1_25,1_35,35_42,33_42,15_33,8_15,19_47,47_75,75_83,83_91,91_99,99_107,4_48,4_18,18_37,6_37,6_16,11_16,29_68,68_76,76_84,84_92,92_100,100_108,17_24,5_17,5_40,40_52,52_62,36_62,28_69,69_77,77_85,85_93,93_101,101_109,13_55,13_32,14_32,7_14,7_44,44_60,34_70,70_78,78_86,86_94,94_102,102_110,27_56,30_56,30_54,12_54,0_12,0_39,51_71,71_79,79_87,87_95,95_103,103_111,57_59,23_59,23_50,38_50,26_38,26_46,64_72,65_80,72_88,80_96,88_104,10_22,9_20,22_43,20_53,31_43,49_73,66_81,73_89,81_97,89_105,3_61,58_63,2_61,21_63,2_45,41_74,67_82,74_90,82_98,90_106,25_35,1_42,33_35,15_42,8_33,19_75,47_83,75_91,83_99,91_107,18_48,4_37,6_18,16_37,6_11,29_76,68_84,76_92,84_100,92_108,5_24,17_40,5_52,40_62,36_52,28_77,69_85,77_93,85_101,93_109,32_55,13_14,7_32,14_44,7_60,34_78,70_86,78_94,86_102,94_110,27_30,54_56,12_30,0_54,12_39,51_79,71_87,79_95,87_103,95_111,23_57,50_59,23_38,26_50,38_46,64_80,65_88,72_96,80_104,10_20,9_43,22_53,20_31,49_81,66_89,73_97,81_105,3_63,2_58,21_61,45_63,41_82,67_90,74_98,82_106,25_42,1_33,15_35,8_42,19_83,47_91,75_99,83_107,37_48,4_6,16_18,11_37,29_84,68_92,76_100,84_108,24_40,17_52,5_62,36_40,28_85,69_93,77_101,85_109,14_55,7_13,32_44,14_60,34_86,70_94,78_102,86_110,27_54,12_56,0_30,39_54,51_87,71_95,79_103,87_111,50_57,38_59,23_26,46_50,64_88,65_96,72_104,10_43,9_53,22_31,49_89,66_97,73_105,2_3,21_58,45_61,41_90,67_98,74_106,25_33,1_15,8_35,19_91,47_99,75_107,6_48,4_16,11_18,29_92,68_100,76_108,24_52,17_62,5_36,28_93,69_101,77_109,7_55,13_44,32_60,34_94,70_102,78_110,12_27,0_56,30_39,51_95,71_103,79_111,38_57,26_59,23_46,64_96,65_104,10_53,9_31,49_97,66_105,3_21,45_58,41_98,67_106,15_25,1_8,19_99,47_107,16_48,4_11,29_100,68_108,24_62,17_36,28_101,69_109,44_55,13_60,34_102,70_110,0_27,39_56,51_103,71_111,26_57,46_59,64_104,10_31,49_105,3_45,41_106,8_25,19_107,11_48,29_108,24_36,28_109,55_60,34_110,27_39,51_111,46_57,9_64,22_65,20_72,43_80,53_88,31_96,10_66,9_73,22_81,20_89,43_97,53_105,49_58,61_66,63_73,2_81,21_89,45_97,3_67,58_74,61_82,63_90,2_98,21_106,1_41,35_67,42_74,33_82,15_90,8_98,25_47,1_75,35_83,42_91,33_99,15_107,4_19,18_47,37_75,6_83,16_91,11_99,48_68,4_76,18_84,37_92,6_100,16_108,17_29,5_68,40_76,52_84,62_92,36_100,24_69,17_77,5_85,40_93,52_101,62_109,13_28,32_69,14_77,7_85,44_93,60_101,55_70,13_78,32_86,14_94,7_102,44_110,34_56,30_70,54_78,12_86,0_94,39_102,27_71,56_79,30_87,54_95,12_103,0_111,51_59,23_71,50_79,38_87,26_95,46_103,22_64,20_65,43_72,53_80,31_88,10_73,9_81,22_89,20_97,43_105,49_61,63_66,2_73,21_81,45_89,3_74,58_82,61_90,63_98,2_106,35_41,42_67,33_74,15_82,8_90,25_75,1_83,35_91,42_99,33_107,18_19,37_47,6_75,16_83,11_91,48_76,4_84,18_92,37_100,6_108,5_29,40_68,52_76,62_84,36_92,24_77,17_85,5_93,40_101,52_109,28_32,14_69,7_77,44_85,60_93,55_78,13_86,32_94,14_102,7_110,30_34,54_70,12_78,0_86,39_94,27_79,56_87,30_95,54_103,12_111,23_51,50_71,38_79,26_87,46_95,20_64,43_65,53_72,31_80,10_81,9_89,22_97,20_105,49_63,2_66,21_73,45_81,3_82,58_90,61_98,63_106,41_42,33_67,15_74,8_82,25_83,1_91,35_99,42_107,19_37,6_47,16_75,11_83,48_84,4_92,18_100,37_108,29_40,52_68,62_76,36_84,24_85,17_93,5_101,40_109,14_28,7_69,44_77,60_85,55_86,13_94,32_102,14_110,34_54,12_70,0_78,39_86,27_87,56_95,30_103,54_111,50_51,38_71,26_79,46_87,43_64,53_65,31_72,10_89,9_97,22_105,2_49,21_66,45_73,3_90,58_98,61_106,33_41,15_67,8_74,25_91,1_99,35_107,6_19,16_47,11_75,48_92,4_100,18_108,29_52,62_68,36_76,24_93,17_101,5_109,7_28,44_69,60_77,55_94,13_102,32_110,12_34,0_70,39_78,27_95,56_103,30_111,38_51,26_71,46_79,53_64,31_65,10_97,9_105,21_49,45_66,3_98,58_106,15_41,8_67,25_99,1_107,16_19,11_47,48_100,4_108,29_62,36_68,24_101,17_109,28_44,60_69,55_102,13_110,0_34,39_70,27_103,56_111,26_51,46_71,31_64,10_105,45_49,3_106,8_41,25_107,11_19,48_108,29_36,24_109,28_60,55_110,34_39,27_111,46_51,10_65,9_72,22_80,20_88,43_96,53_104,9_49,22_66,20_73,43_81,53_89,31_97,3_66,58_73,61_81,63_89,2_97,21_105,41_58,61_67,63_74,2_82,21_90,45_98,25_67,1_74,35_82,42_90,33_98,15_106,1_19,35_47,42_75,33_83,15_91,8_99,47_48,4_75,18_83,37_91,6_99,16_107,4_29,18_68,37_76,6_84,16_92,11_100,24_68,17_76,5_84,40_92,52_100,62_108,17_28,5_69,40_77,52_85,62_93,36_101,55_69,13_77,32_85,14_93,7_101,44_109,13_34,32_70,14_78,7_86,44_94,60_102,27_70,56_78,30_86,54_94,12_102,0_110,51_56,30_71,54_79,12_87,0_95,39_103,57_71,59_79,23_87,50_95,38_103,26_111,10_72,9_80,22_88,20_96,43_104,22_49,20_66,43_73,53_81,31_89,3_73,58_81,61_89,63_97,2_105,41_61,63_67,2_74,21_82,45_90,25_74,1_82,35_90,42_98,33_106,19_35,42_47,33_75,15_83,8_91,48_75,4_83,18_91,37_99,6_107,18_29,37_68,6_76,16_84,11_92,24_76,17_84,5_92,40_100,52_108,5_28,40_69,52_77,62_85,36_93,55_77,13_85,32_93,14_101,7_109,32_34,14_70,7_78,44_86,60_94,27_78,56_86,30_94,54_102,12_110,30_51,54_71,12_79,0_87,39_95,57_79,59_87,23_95,50_103,38_111,10_80,9_88,22_96,20_104,20_49,43_66,53_73,31_81,3_81,58_89,61_97,63_105,41_63,2_67,21_74,45_82,25_82,1_90,35_98,42_106,19_42,33_47,15_75,8_83,48_83,4_91,18_99,37_107,29_37,6_68,16_76,11_84,24_84,17_92,5_100,40_108,28_40,52_69,62_77,36_85,55_85,13_93,32_101,14_109,14_34,7_70,44_78,60_86,27_86,56_94,30_102,54_110,51_54,12_71,0_79,39_87,57_87,59_95,23_103,50_111,10_88,9_96,22_104,43_49,53_66,31_73,3_89,58_97,61_105,2_41,21_67,45_74,25_90,1_98,35_106,19_33,15_47,8_75,48_91,4_99,18_107,6_29,16_68,11_76,24_92,17_100,5_108,28_52,62_69,36_77,55_93,13_101,32_109,7_34,44_70,60_78,27_94,56_102,30_110,12_51,0_71,39_79,57_95,59_103,23_111,10_96,9_104,49_53,31_66,3_97,58_105,21_41,45_67,25_98,1_106,15_19,8_47,48_99,4_107,16_29,11_68,24_100,17_108,28_62,36_69,55_101,13_109,34_44,60_70,27_102,56_110,0_51,39_71,57_103,59_111,10_104,31_49,3_105,41_45,25_106,8_19,48_107,11_29,24_108,28_36,55_109,34_60,27_110,39_51,57_111
SEPS="-3,1;-2,1;-1,1;0,1;1,1;2,1;3,1;-3,2;-2,2;-1,2;0,2;1,2;2,2;3,2;-3,3;-2,3;-1,3;0,3;1,3;2,3;3,3"


for file in ${FILES}; do 
    echo pull_antpols.py -a `grid2ant.py --sep=${SEPS} -C psa6622_v003` ${file} 
    pull_antpols.py -a `grid2ant.py --sep=${SEPS} -C psa6622_v003` ${file} 
    #pull_antpols.py -a ${ANT_LIST} ${file}
done

